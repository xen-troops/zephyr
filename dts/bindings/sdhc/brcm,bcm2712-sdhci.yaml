# Copyright (c) 2024 EPAM Systems
# SPDX-License-Identifier: Apache-2.0
description: Broadcom BCM2712 SDHC v3.0 (MMC)

compatible: "brcm,bcm2712-sdhci"

include: [sdhc.yaml]

properties:
  clocks:
    required: true

  reg:
    required: true

  cd-gpios:
    type: phandle-array
    description: Card Detect pin

  vmmc-supply:
    type: phandle
    description: |
      Supply for the card power

  vqmmc-supply:
    type: phandle
    description: |
      Supply for the bus IO line power, such as a level shifter.
      If the level shifter is controlled by a GPIO line, this shall
      be modeled as a "regulator-fixed" with a GPIO line for
      switching the level shifter on/off.

  bus-width:
    type: int
    default: 1
    description: |
        Bus width for SDMMC access, defaults to the minimum necessary
        number of bus lines
    enum:
      - 1
      - 4
      - 8

  non-removable:
    type: boolean
    description: |
      Non-removable slots (like eMMC), which are assumed to always be present.
